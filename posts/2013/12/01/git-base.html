<!DOCTYPE html>
<html lang="en">
<head>
        <title>Git操作小结</title>
        <meta charset="utf-8" />
     <meta name="description" content="">
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <link rel="shortcut icon" href="/favicon.ico"/>
        <link rel="stylesheet" href="http://wklken.me/theme/css/style.css" media="all" />
        <link rel="stylesheet" href="http://wklken.me/theme/css/pygment.css" media="all" />
        <link rel="stylesheet" href="http://wklken.me/theme/css/mobile.css" media="all" />
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300italic,600italic,400,600,700,800' rel='stylesheet' type='text/css">

        <link rel="stylesheet" href="http://wklken.me/theme/css/font-awesome.min.css">
        <!--[if IE 7]>
            <link rel="stylesheet" href="http://wklken.me/theme/css/font-awesome-ie7.min.css">
        <![endif]-->

        <link href="http://wklken.me/" type="application/atom+xml" rel="alternate" title="wklken's blog ATOM Feed" />
        <link href="http://wklken.me/feed.xml" type="application/atom+xml" rel="alternate" title="wklken's blog RSS Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://wklken.me/css/ie.css"/>
                <script src="http://wklken.me/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://wklken.me/css/ie6.css"/><![endif]-->
        <script src="http://upcdn.b0.upaiyun.com/libs/jquery/jquery-1.9.1.min.js"></script>
        <script src="http://wklken.me/theme/js/jquery.scrollToTop.js"></script>
        <script type="text/javascript">
            $(function() {
                $("#toTop").scrollToTop(1000);
            });
        </script>

</head>

<body id="index" class="home">
  <header id="header">
     <div class="constraint">

       <div class="o"> 
   <a href="/"><h1>Wklken <span class="red"> Python</span></h1></a>

    <div class="social">
                <a href="https://github.com/wklken" target='_blank'><i class="icon-github-sign icon-2x"></i></a>
                <a href="http://weibo.com/wklken" target='_blank'><i class="icon-weibo icon-2x"></i></a>
                <a href="mailto:wklken@yeah.net"><i class="icon-envelope icon-2x"></i></a>
                <a href="/feed.xml" target='_blank'><i class="icon-rss-sign icon-2x"></i></a>
    </div>

		<div class="nav">
                    <a href="/">首页</a>
                    <a href="/categories.html">分类</a>
                    <a href="/archives.html">归档</a>
                    <a href="/pages/projects.html">项目</a>
                    <a href="/pages/tools.html">工具</a>
                    <a href="/pages/books.html">书单</a>
                    <a href="/pages/aboutme.html">关于</a>

           </div>
         </div>
         </div>
         </header><!-- /#banner -->

<section class="content blog">
<div class="constraint">
<div class="posts">
<article>
<aside class="sidebar">
<h3 class="published" title="2013-12-01T00:00:00">
               2013年12月01日
</h3>

<p>
<div class="tag">
    分类: <a href="/category/git.html">git</a>

    </div>


<div class="tag">
    标签: <a href="http://wklken.me/tag/git.html">git</a>
   </div>


</p>

</aside><!-- /.post-info -->        <header> <h1 class="blog-title"><a href=""
        rel="bookmark" title="Permalink to Git操作小结">Git操作小结</a></h1> 
        </header>


        <div class="entry-content">
        <p>git操作小结，资料来源于网络</p>
<h3>教程资源</h3>
<blockquote>
<p>在线教程</p>
</blockquote>
<p><a href="http://pcottle.github.io/learnGitBranching/">LearnGitBranchin</a></p>
<p><a href="https://www.atlassian.com/git/tutorial/git-basics">Git Tutorials</a></p>
<p><a href="https://github.com/Gazler/githug">github</a> (通关游戏，<a href="http://fancyoung.com/blog/githug-cheat-sheet/">攻略</a>)</p>
<p><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰git教程</a></p>
<blockquote>
<p>资源</p>
</blockquote>
<p><a href="http://gitref.org/zh/basic/">Git 参考手册</a></p>
<p><a href="http://git-scm.com/book/zh">Pro git</a></p>
<p><a href="http://chimera.labs.oreilly.com/books/1230000000561/index.html">Git Pocket Guide</a></p>
<blockquote>
<p>文章</p>
</blockquote>
<p><a href="http://rogerdudler.github.io/git-guide/index.zh.html">git简易指南</a></p>
<p><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">图解git</a></p>
<p><a href="http://youngsterxyf.github.io/2013/09/28/learning-git-internals-by-example/">通过示例学习git构造</a></p>
<h3>git config</h3>
<p>git配置文件~/.gitconfig</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="s">&quot;Your Name Here&quot;</span>

<span class="err">其他常用</span><span class="n">config</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="s">&quot;robbin&quot;</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="p">.</span><span class="n">email</span> <span class="s">&quot;fankai#gmail.com&quot;</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">color</span><span class="p">.</span><span class="n">ui</span> <span class="nb">true</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">alias</span><span class="p">.</span><span class="n">co</span> <span class="n">checkout</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">alias</span><span class="p">.</span><span class="n">ci</span> <span class="n">commit</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">alias</span><span class="p">.</span><span class="n">st</span> <span class="n">status</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">alias</span><span class="p">.</span><span class="n">br</span> <span class="n">branch</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">core</span><span class="p">.</span><span class="n">editor</span> <span class="s">&quot;mate -w&quot;</span>    <span class="err">#</span> <span class="err">设置</span><span class="n">Editor</span><span class="err">使用</span><span class="n">textmate</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">-</span><span class="mi">1</span> <span class="err">#列举所有配置</span>
</pre></div>


<h3>仓库基本操作</h3>
<p>1.检出</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">path</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">git</span><span class="o">-</span><span class="n">repository</span>
</pre></div>


<p>2.更新本地仓库到最新改动</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">pull</span>
</pre></div>


<p>2.将当前仓库接到远程</p>
<div class="highlight"><pre><span class="nx">git</span> <span class="nx">remote</span> <span class="nb">add</span> <span class="nx">origin</span> <span class="o">&lt;</span><span class="nx">server</span><span class="o">&gt;</span>
</pre></div>


<p>3.丢弃本地所有改动与提交，获取服务器上最新版本并将主干分支指向它</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">fetch</span> <span class="n">origin</span>
<span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">origin</span><span class="o">/</span><span class="n">master</span>
</pre></div>


<h3>基本操作</h3>
<p>流</p>
<p><img alt="git-flow-structure" src="/imgs/git-flow-structure.png" /></p>
<p>1.添加(CurrentDir -&gt; Stage)</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">add</span> <span class="n">file_name</span>
<span class="n">git</span> <span class="n">add</span> <span class="o">*</span>
</pre></div>


<p>3.删除(CurrentDir -&gt; Stage)</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">rm</span> <span class="n">file_name</span>
</pre></div>


<p>3.取消add/rm(Stage -&gt; CurrentDir)</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">reset</span> <span class="n">HEAD</span> <span class="n">file_name</span>
</pre></div>


<p>2.提交(Stage -&gt; HEAD)</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">commit</span> <span class="n">file_name</span> <span class="o">-</span><span class="n">m</span> <span class="err">&#39;提交信息&#39;</span>
</pre></div>


<p>4.推送改动(HEAD -&gt; Remote)</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


<p>4.diff</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">diff</span>
</pre></div>


<p>5.log</p>
<p>7.替换掉本地改动(Stage -&gt; CurrentDir)</p>
<div class="highlight"><pre><span class="nx">git</span> <span class="nx">checkout</span> <span class="o">--</span> <span class="o">&lt;</span><span class="nb">filename</span><span class="o">&gt;</span>
</pre></div>


<h3>分支操作</h3>
<p><img alt="git-branch" src="/imgs/git-branch.png" /></p>
<p>1.创建分支</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">branch</span> <span class="n">new_br_name</span> <span class="err">#创建</span>
<span class="n">git</span> <span class="n">branch</span>             <span class="err">#查看当前有的分支</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">new_br_name</span> <span class="err">#切换到新分支</span>

<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">b</span> <span class="n">new_br_name</span> <span class="err">#创建并切过去</span>
</pre></div>


<p>2.分支推送到Remote</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">new_br_name</span>  <span class="err">#远端维护起来</span>
</pre></div>


<p>3.合并分支(merge)</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">branch</span>  <span class="err">#查看当前分支</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span> <span class="err">#切换回主干</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">new_br_name</span>  <span class="err">#合并</span><span class="n">new_br_name</span><span class="err">分支到主干</span><span class="p">,</span> <span class="err">自动合并</span>

<span class="mf">1.</span><span class="err">没冲突</span><span class="p">(</span><span class="n">no</span> <span class="n">conflicts</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fine</span> <span class="o">-&gt;</span> <span class="n">commit</span> <span class="o">-&gt;</span> <span class="n">push</span> <span class="n">to</span> <span class="n">remote</span>

<span class="mf">2.</span><span class="err">有冲突</span><span class="p">(</span><span class="n">conflicts</span><span class="p">)</span>
<span class="n">git</span> <span class="n">diff</span>   <span class="err">#查看当前哪些文件有冲突</span><span class="p">,</span> <span class="err">标识</span> <span class="n">unmerged</span>
<span class="n">vim</span> <span class="n">xxx</span>    <span class="err">#手动编辑解决冲突</span>

    <span class="err">冲突文件中标识</span>
    <span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="n">HEAD</span><span class="o">:</span><span class="n">file</span><span class="p">.</span><span class="n">txt</span>
    <span class="n">Hello</span> <span class="n">world</span>  <span class="err">#当前</span><span class="n">branch</span><span class="err">的</span>
    <span class="o">=======</span>
    <span class="n">Goodbye</span>      <span class="err">#要合并</span><span class="n">branch</span><span class="err">的</span>
    <span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="mi">77976</span><span class="n">da35a11db4580b80ae27e8d65caf5208086</span><span class="o">:</span><span class="n">file</span><span class="p">.</span><span class="n">txt</span>

<span class="n">git</span> <span class="n">add</span> <span class="n">xxx</span> <span class="err">#加入</span>

<span class="o">-&gt;</span> <span class="err">解决所有冲突之后</span> <span class="o">-&gt;</span> <span class="n">commit</span> <span class="o">-&gt;</span> <span class="n">push</span> <span class="n">to</span> <span class="n">remote</span>
</pre></div>


<p>3.删除无用分支</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">new_br_name</span>  <span class="err">#只能删除已经被当前分支合并的分支</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">new_br_name</span>  <span class="err">#强删</span>
</pre></div>


<p>4.撤销一个合并</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">HEAD</span>
</pre></div>


<h3>tag操作</h3>
<p>在发布之前，创建标签</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">tag</span> <span class="n">tag_name</span> <span class="o">&lt;</span><span class="n">commit</span> <span class="n">ID</span><span class="o">&gt;</span>

<span class="cp">#commit ID可以通过git log来查看</span>
</pre></div>


<h3>忽略某些文件</h3>
<p>项目中那些不需要的文件(untracked),可以忽略</p>
<p>顶层工作目录中添加一个叫".gitignore"的文件 <a href="https://www.kernel.org/pub/software/scm/git/docs/gitignore.html">语法文档</a></p>
<div class="highlight"><pre><span class="cp"># 以&#39;#&#39; 开始的行，被视为注释.</span>
<span class="cp"># 忽略掉所有文件名是 foo.txt 的文件.</span>
<span class="n">foo</span><span class="p">.</span><span class="n">txt</span>
<span class="cp"># 忽略所有生成的 html 文件,</span>
<span class="o">*</span><span class="p">.</span><span class="n">html</span>
<span class="cp"># foo.html是手工维护的，所以例外.</span>
<span class="o">!</span><span class="n">foo</span><span class="p">.</span><span class="n">html</span>
<span class="cp">#  忽略所有.o 和 .a文件.</span>
<span class="o">*</span><span class="p">.[</span><span class="n">oa</span><span class="p">]</span>
</pre></div>


<h3>常见问题</h3>
<ol>
<li>如何让git能处理汉字文件名</li>
</ol>
<p>git默认quote任何非ascii文件名字符,想要支持非</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">core</span><span class="p">.</span><span class="n">quotepath</span> <span class="nb">false</span>

<span class="err">或者在$</span><span class="n">HOME</span><span class="o">/</span><span class="p">.</span><span class="n">gitconfig</span> <span class="err">配置</span>
<span class="p">[</span><span class="n">core</span><span class="p">]</span>
    <span class="n">quotepath</span> <span class="o">=</span> <span class="nb">false</span>
</pre></div>


<ol>
<li>
<p>git add -A 和 git add .的区别</p>
<p>"git add -A"  = "git add .; git add -u".</p>
<ul>
<li>git add -A stages All</li>
<li>git add . stages new and modified, without deleted</li>
<li>git add -u stages modified and deleted, without new</li>
</ul>
</li>
<li>
<p>怎么配置git结果显示颜色</p>
<p>[color]</p>
<h1>开启着色功能</h1>
<div class="highlight"><pre><span class="n">status</span> <span class="o">=</span> <span class="k">auto</span>
<span class="n">diff</span> <span class="o">=</span> <span class="k">auto</span>
<span class="n">branch</span> <span class="o">=</span> <span class="k">auto</span>
<span class="n">interactive</span> <span class="o">=</span> <span class="k">auto</span>
</pre></div>


</li>
</ol>
<h3>其他</h3>
<p><a href="http://luolei.org/2013/08/better-git-log/">更好的git log</a></p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">alias</span><span class="p">.</span><span class="n">lg</span> <span class="s">&quot;log --color --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;</span>
<span class="cp">#然后使用 git lg</span>
</pre></div>


<hr />
<p>下面的待整理</p>
<h3>常用命令</h3>
<p>查看、添加、提交、删除、找回，重置修改文件</p>
<div class="highlight"><pre><span class="nx">git</span> <span class="nx">help</span> <span class="o">&lt;</span><span class="nb">command</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">显示</span><span class="nb">command</span><span class="err">的</span><span class="nx">help</span>
<span class="nx">git</span> <span class="nx">show</span>            <span class="err">#</span> <span class="err">显示某次提交的内容</span>
<span class="nx">git</span> <span class="nx">show</span> <span class="nv">$id</span>

<span class="nx">git</span> <span class="nx">co</span>  <span class="o">--</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>   <span class="err">#</span> <span class="err">抛弃工作区修改</span>
<span class="nx">git</span> <span class="nx">co</span>  <span class="nx">.</span>           <span class="err">#</span> <span class="err">抛弃工作区修改</span>

<span class="nx">git</span> <span class="nb">add</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>      <span class="err">#</span> <span class="err">将工作文件修改提交到本地暂存区</span>
<span class="nx">git</span> <span class="nb">add</span> <span class="nx">.</span>           <span class="err">#</span> <span class="err">将所有修改过的工作文件提交暂存区</span>

<span class="nx">git</span> <span class="nx">rm</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>       <span class="err">#</span> <span class="err">从版本库中删除文件</span>
<span class="nx">git</span> <span class="nx">rm</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span> <span class="o">--</span><span class="nx">cached</span>  <span class="err">#</span> <span class="err">从版本库中删除文件，但不删除文件</span>

<span class="nx">git</span> <span class="nb">reset</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>    <span class="err">#</span> <span class="err">从暂存区恢复到工作文件</span>
<span class="nx">git</span> <span class="nb">reset</span> <span class="o">--</span> <span class="nx">.</span>      <span class="err">#</span> <span class="err">从暂存区恢复到工作文件</span>
<span class="nx">git</span> <span class="nb">reset</span> <span class="o">--</span><span class="nx">hard</span>    <span class="err">#</span> <span class="err">恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改</span>

<span class="nx">git</span> <span class="nx">ci</span> <span class="o">&lt;</span><span class="nb">file</span><span class="cp">]</span>]&gt;
git ci .
git ci -a           # 将git add, git rm和git ci等操作都合并在一起做
git ci -am &quot;some comments&quot;
git ci --amend      # 修改最后一次提交记录

git revert <span class="err">&lt;</span>$id&gt;    # 恢复某次提交的状态，恢复动作本身也创建了一次提交对象
git revert HEAD     # 恢复最后一次提交的状态
</pre></div>


<p>查看文件diff</p>
<div class="highlight"><pre><span class="nx">gitdiff</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>    <span class="err">#</span> <span class="err">比较当前文件和暂存区文件差异</span>
<span class="nx">gitdiff</span>
<span class="nx">gitdiff</span><span class="o">&lt;</span><span class="nv">$id1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nv">$id2</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">比较两次提交之间的差异</span>
<span class="nx">gitdiff</span><span class="o">&lt;</span><span class="nx">branch1</span><span class="o">&gt;</span><span class="nx">..</span><span class="o">&lt;</span><span class="nx">branch2</span><span class="o">&gt;</span><span class="err">#</span> <span class="err">在两个分支之间比较</span>
<span class="nx">gitdiff</span><span class="o">--</span><span class="nx">staged</span>  <span class="err">#</span> <span class="err">比较暂存区和版本库差异</span>
<span class="nx">gitdiff</span><span class="o">--</span><span class="nx">cached</span>  <span class="err">#</span> <span class="err">比较暂存区和版本库差异</span>
<span class="nx">gitdiff</span><span class="o">--</span><span class="nb">stat</span>    <span class="err">#</span> <span class="err">仅仅比较统计信息</span>
</pre></div>


<p>查看提交记录</p>
<div class="highlight"><pre><span class="nx">git</span> <span class="k">log</span>
<span class="nx">git</span> <span class="k">log</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>     <span class="err">#</span> <span class="err">查看该文件每次提交记录</span>
<span class="nx">git</span> <span class="k">log</span> <span class="na">-p</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">查看每次详细修改内容的</span><span class="nx">diff</span>
<span class="nx">git</span> <span class="k">log</span> <span class="na">-p</span> <span class="o">-</span><span class="mi">2</span>      <span class="err">#</span> <span class="err">查看最近两次详细修改内容的</span><span class="nx">diff</span>
<span class="nx">git</span> <span class="k">log</span> <span class="o">--</span><span class="nb">stat</span>     <span class="err">#查看提交统计信息</span>
</pre></div>


<h3>分支操作</h3>
<p>查看、切换、创建和删除分支</p>
<div class="highlight"><pre><span class="nx">git</span> <span class="nx">br</span> <span class="na">-r</span>           <span class="err">#</span> <span class="err">查看远程分支</span>
<span class="nx">git</span> <span class="nx">br</span> <span class="o">&lt;</span><span class="nx">new_branch</span><span class="o">&gt;</span> <span class="err">#</span> <span class="err">创建新的分支</span>
<span class="nx">git</span> <span class="nx">br</span> <span class="na">-v</span>           <span class="err">#</span> <span class="err">查看各个分支最后提交信息</span>
<span class="nx">git</span> <span class="nx">br</span> <span class="o">--</span><span class="nx">merged</span>     <span class="err">#</span> <span class="err">查看已经被合并到当前分支的分支</span>
<span class="nx">git</span> <span class="nx">br</span> <span class="o">--</span><span class="nx">no</span><span class="na">-merged</span>  <span class="err">#</span> <span class="err">查看尚未被合并到当前分支的分支</span>

<span class="nx">git</span> <span class="nx">co</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span>     <span class="err">#</span> <span class="err">切换到某个分支</span>
<span class="nx">git</span> <span class="nx">co</span> <span class="na">-b</span> <span class="o">&lt;</span><span class="nx">new_branch</span><span class="o">&gt;</span> <span class="err">#</span> <span class="err">创建新的分支，并且切换过去</span>
<span class="nx">git</span> <span class="nx">co</span> <span class="na">-b</span> <span class="o">&lt;</span><span class="nx">new_branch</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">基于</span><span class="nx">branch</span><span class="err">创建新的</span><span class="nx">new_branch</span>

<span class="nx">git</span> <span class="nx">co</span> <span class="nv">$id</span>          <span class="err">#</span> <span class="err">把某次历史提交记录</span><span class="nx">checkout</span><span class="err">出来，但无分支信息，切换到其他分支会自动删除</span>
<span class="nx">git</span> <span class="nx">co</span> <span class="nv">$id</span> <span class="na">-b</span> <span class="o">&lt;</span><span class="nx">new_branch</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">把某次历史提交记录</span><span class="nx">checkout</span><span class="err">出来，创建成一个分支</span>

<span class="nx">git</span> <span class="nx">br</span> <span class="na">-d</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">删除某个分支</span>
<span class="nx">git</span> <span class="nx">br</span> <span class="na">-D</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">强制删除某个分支</span> <span class="p">(</span><span class="err">未被合并的分支被删除的时候需要强制</span><span class="p">)</span>
</pre></div>


<p>分支合并和rebase</p>
<div class="highlight"><pre><span class="nx">git</span> <span class="nb">merge</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span>               <span class="err">#</span> <span class="err">将</span><span class="nx">branch</span><span class="err">分支合并到当前分支</span>
<span class="nx">git</span> <span class="nb">merge</span> <span class="nx">origin</span><span class="p">/</span><span class="nx">master</span> <span class="o">--</span><span class="nx">no</span><span class="na">-ff</span>  <span class="err">#</span> <span class="err">不要</span><span class="nx">Fast</span><span class="na">-Foward</span><span class="err">合并，这样可以生成</span><span class="nb">merge</span><span class="err">提交</span>

<span class="nx">git</span> <span class="nx">rebase</span> <span class="nx">master</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span>       <span class="err">#</span> <span class="err">将</span><span class="nx">master</span> <span class="nx">rebase</span><span class="err">到</span><span class="nx">branch</span><span class="err">，相当于：</span>
<span class="nx">git</span> <span class="nx">co</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span> <span class="nx">git</span> <span class="nx">rebase</span> <span class="nx">master</span> <span class="o">&amp;&amp;</span> <span class="nx">git</span> <span class="nx">co</span> <span class="nx">master</span> <span class="o">&amp;&amp;</span> <span class="nx">git</span> <span class="nb">merge</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span>
</pre></div>


<p>Git补丁管理(方便在多台机器上开发同步时用)</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">diff</span> <span class="o">&gt;</span> <span class="p">..</span><span class="o">/</span><span class="n">sync</span><span class="p">.</span><span class="n">patch</span>         <span class="err">#</span> <span class="err">生成补丁</span>
<span class="n">git</span> <span class="n">apply</span> <span class="p">..</span><span class="o">/</span><span class="n">sync</span><span class="p">.</span><span class="n">patch</span>          <span class="err">#</span> <span class="err">打补丁</span>
<span class="n">git</span> <span class="n">apply</span> <span class="o">--</span><span class="n">check</span> <span class="p">..</span><span class="o">/</span><span class="n">sync</span><span class="p">.</span><span class="n">patch</span>  <span class="err">#测试补丁能否成功</span>
</pre></div>


<p>Git暂存管理</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">stash</span>                        <span class="err">#</span> <span class="err">暂存</span>
<span class="n">git</span> <span class="n">stash</span> <span class="n">list</span>                   <span class="err">#</span> <span class="err">列所有</span><span class="n">stash</span>
<span class="n">git</span> <span class="n">stash</span> <span class="n">apply</span>                  <span class="err">#</span> <span class="err">恢复暂存的内容</span>
<span class="n">git</span> <span class="n">stash</span> <span class="n">drop</span>                   <span class="err">#</span> <span class="err">删除暂存区</span>
</pre></div>


<p>Git远程分支管理</p>
<div class="highlight"><pre><span class="nx">git</span> <span class="nx">pull</span>                         <span class="err">#</span> <span class="err">抓取远程仓库所有分支更新并合并到本地</span>
<span class="nx">git</span> <span class="nx">pull</span> <span class="o">--</span><span class="nx">no</span><span class="na">-ff</span>                 <span class="err">#</span> <span class="err">抓取远程仓库所有分支更新并合并到本地，不要快进合并</span>
<span class="nx">git</span> <span class="nx">fetch</span> <span class="nx">origin</span>                 <span class="err">#</span> <span class="err">抓取远程仓库更新</span>
<span class="nx">git</span> <span class="nb">merge</span> <span class="nx">origin</span><span class="p">/</span><span class="nx">master</span>          <span class="err">#</span> <span class="err">将远程主分支合并到本地当前分支</span>
<span class="nx">git</span> <span class="nx">co</span> <span class="o">--</span><span class="nx">track</span> <span class="nx">origin</span><span class="p">/</span><span class="nx">branch</span>     <span class="err">#</span> <span class="err">跟踪某个远程分支创建相应的本地分支</span>
<span class="nx">git</span> <span class="nx">co</span> <span class="na">-b</span> <span class="o">&lt;</span><span class="nx">local_branch</span><span class="o">&gt;</span> <span class="nx">origin</span><span class="o">/&lt;</span><span class="nx">remote_branch</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">基于远程分支创建本地分支，功能同上</span>

<span class="nx">git</span> <span class="nb">push</span>                         <span class="err">#</span> <span class="nb">push</span><span class="err">所有分支</span>
<span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="nx">master</span>           <span class="err">#</span> <span class="err">将本地主分支推到远程主分支</span>
<span class="nx">git</span> <span class="nb">push</span> <span class="na">-u</span> <span class="nx">origin</span> <span class="nx">master</span>        <span class="err">#</span> <span class="err">将本地主分支推到远程</span><span class="p">(</span><span class="err">如无远程主分支则创建，用于初始化远程仓库</span><span class="p">)</span>
<span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="o">&lt;</span><span class="nx">local_branch</span><span class="o">&gt;</span>   <span class="err">#</span> <span class="err">创建远程分支，</span> <span class="nx">origin</span><span class="err">是远程仓库名</span>
<span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="o">&lt;</span><span class="nx">local_branch</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="nx">remote_branch</span><span class="o">&gt;</span>  <span class="err">#</span> <span class="err">创建远程分支</span>
<span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="p">:</span><span class="o">&lt;</span><span class="nx">remote_branch</span><span class="o">&gt;</span>  <span class="err">#先删除本地分支</span><span class="p">(</span><span class="nx">git</span> <span class="nx">br</span> <span class="na">-d</span> <span class="o">&lt;</span><span class="nx">branch</span><span class="o">&gt;</span><span class="p">)</span><span class="err">，然后再</span><span class="nb">push</span><span class="err">删除远程分支</span>
</pre></div>


<h3>远程仓库管理</h3>
<div class="highlight"><pre><span class="nx">git</span> <span class="nx">remote</span> <span class="na">-v</span>                    <span class="err">#</span> <span class="err">查看远程服务器地址和仓库名称</span>
<span class="nx">git</span> <span class="nx">remote</span> <span class="nx">show</span> <span class="nx">origin</span>           <span class="err">#</span> <span class="err">查看远程服务器仓库状态</span>
<span class="nx">git</span> <span class="nx">remote</span> <span class="nb">add</span> <span class="nx">origin</span> <span class="nx">git</span><span class="p">@</span> <span class="nx">github</span><span class="p">:</span><span class="nx">robbin</span><span class="p">/</span><span class="nx">robbin_site.git</span>         <span class="err">#</span> <span class="err">添加远程仓库地址</span>
<span class="nx">git</span> <span class="nx">remote</span> <span class="nb">set</span><span class="na">-url</span> <span class="nx">origin</span> <span class="nx">git</span><span class="p">@</span> <span class="nx">github.com</span><span class="p">:</span><span class="nx">robbin</span><span class="p">/</span><span class="nx">robbin_site.git</span> <span class="err">#</span> <span class="err">设置远程仓库地址</span><span class="p">(</span><span class="err">用于修改远程仓库地址</span><span class="p">)</span>
<span class="nx">git</span> <span class="nx">remote</span> <span class="nx">rm</span> <span class="o">&lt;</span><span class="nx">repository</span><span class="o">&gt;</span>       <span class="err">#</span> <span class="err">删除远程仓库</span>
</pre></div>


<p>创建远程仓库</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">bare</span> <span class="n">robbin_site</span> <span class="n">robbin_site</span><span class="p">.</span><span class="n">git</span>  <span class="err">#</span> <span class="err">用带版本的项目创建纯版本仓库</span>
<span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="n">my_project</span><span class="p">.</span><span class="n">git</span> <span class="n">git</span><span class="err">@</span> <span class="n">git</span><span class="p">.</span><span class="n">csdn</span><span class="p">.</span><span class="n">net</span><span class="o">:~</span>      <span class="err">#</span> <span class="err">将纯仓库上传到服务器上</span>

<span class="n">mkdir</span> <span class="n">robbin_site</span><span class="p">.</span><span class="n">git</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">robbin_site</span><span class="p">.</span><span class="n">git</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="o">--</span><span class="n">bare</span> <span class="n">init</span> <span class="err">#</span> <span class="err">在服务器创建纯仓库</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">git</span><span class="err">@</span> <span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">robbin</span><span class="o">/</span><span class="n">robbin_site</span><span class="p">.</span><span class="n">git</span>    <span class="err">#</span> <span class="err">设置远程仓库地址</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>                                      <span class="err">#</span> <span class="err">客户端首次提交</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">develop</span>  <span class="err">#</span> <span class="err">首次将本地</span><span class="n">develop</span><span class="err">分支提交到远程</span><span class="n">develop</span><span class="err">分支，并且</span><span class="n">track</span>

<span class="n">git</span> <span class="n">remote</span> <span class="n">set</span><span class="o">-</span><span class="n">head</span> <span class="n">origin</span> <span class="n">master</span>   <span class="err">#</span> <span class="err">设置远程仓库的</span><span class="n">HEAD</span><span class="err">指向</span><span class="n">master</span><span class="err">分支</span>
</pre></div>


<p>也可以命令设置跟踪远程库和本地库</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">master</span> <span class="n">origin</span><span class="o">/</span><span class="n">master</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">develop</span> <span class="n">origin</span><span class="o">/</span><span class="n">develop</span>
</pre></div>
        </div><!-- /.entry-content -->
        <div class="comments">
            如果文章对你有帮助，欢迎对wklken进行无负担小额赞助 <a href="https://me.alipay.com/wklken" target="_blank"> 支付宝 </a> <br>
            版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" >Creative Commons BY-NC-ND 3.0</a>
        <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
               var disqus_identifier = "posts/2013/12/01/git-base.html";
               (function() {
               var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
               dsq.src = 'http://wklken.disqus.com/embed.js';
               (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
            </script>
        </div>

        </article>
</div>


</div>
</section>
<script type="text/javascript">
    var disqus_shortname = 'wklken';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>


<!-- JiaThis Button BEGIN -->
<script type="text/javascript" >
var jiathis_config={
    siteNum:15,
    sm:"fav,copy,ishare,tsina,googleplus,fb,twitter,evernote,ydnote,sdonote,xianguo,digg,qingbiji,weixin",
    summary:"",
    boldNum:3,
    showClose:false,
    hideMore:true
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jiathis_r.js?btn=r2.gif&move=0" charset="utf-8"></script>
<!-- JiaThis Button END -->
<a href="#top" id="toTop" style="display: inline;"></a>



        <section id="extras" class="body">
        </section><!-- /#extras -->

		<footer id="footer">
		<p class="copyright">
                <address id="about" class="vcard body">
                    Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme by <a href="https://github.com/daker">Adnane Belmadiaf</a> and modify by <a href="https://github.com/wklken">wklken</a> Social Icons by <a href="http://fortawesome.github.io/Font-Awesome/">Font-Awesome</a>.

                    <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Theme licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a>.
             </address><!-- /#about -->

			 </p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-42275748-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>


</body>
</html>